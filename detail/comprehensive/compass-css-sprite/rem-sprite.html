<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>rem sprite demo</title>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <link rel="stylesheet" href="../stylesheets/rem-icons.css">
    <style>
    [class^=icon-] {
        display: inline-block;
        margin-right: 10px;
    }
    .icon{
    	padding-left: 0.75rem;/* 48/640 * 10*/
    	line-height: 1rem;/* 64/640 * 10*/
    	font-size: 0.46875rem;/* 30/640 * 10*/
    }

    </style>
    <script>
    ;
    (function(win) {
        var doc = win.document;
        var docEl = doc.documentElement;
        var tid;

        function refreshRem() {
            var width = docEl.getBoundingClientRect().width;
            if (width > 540) { // 最大宽度
                width = 540;
            }
            var rem = width / 10; // 将屏幕宽度分成10份， 1份为1rem
            docEl.style.fontSize = rem + 'px';
        }

        win.addEventListener('resize', function() {
            clearTimeout(tid);
            tid = setTimeout(refreshRem, 300);
        }, false);
        win.addEventListener('pageshow', function(e) {
            if (e.persisted) {
                clearTimeout(tid);
                tid = setTimeout(refreshRem, 300);
            }
        }, false);

        refreshRem();

    })(window);
    </script>
</head>

<body>
    <span class="icon-facebook-single"></span>
    <span class="icon-flickr-single"></span>
    <span class="icon-skype-single"></span>
    <span class="icon-twitter-single"></span>
	<hr>
    <span class="icon-facebook icon">facebook</span>
    <span class="icon-facebook-offset-y icon">facebook</span>
    <span class="icon-flickr icon">flickr</span>
    <span class="icon-skype icon">skype</span>
    <span class="icon-twitter icon">twitter</span>

</body>

</html>
