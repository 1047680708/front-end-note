<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>前端导航页</title>
	<style>
	*{
		margin: 0;
		padding: 0;
	}
	a{
		color: #0e90d2;
	}
	a:hover{
		color: #0b6fa2;
	}
	ul{
		list-style-type: none;
	}
	h1{
		margin-bottom: 40px;
	}
	h2{
		margin-bottom: 20px;
	}
	.container{
		width: 1000px;
		margin: 0 auto;
	}
	.nav__items-list{
		font-size: 0;
	}
	.nav__list-wrap{
		margin-bottom: 20px;
	}
	.nav__item{
		margin-right: 10px;
		display: inline-block;
		font-size: 16px;
	}
	.tip{
		margin-top: 20px;
	}
	</style>
</head>
<body>
	<div class="container">
		<h1>前端导航</h1>
		<ul class="nav">
			<li class="nav__list-wrap">
				<h2 class="nav__header">API</h2>
				<ul class="nav__item-list">
					<li class="nav__item"><a href="http://api.jquery.com/">jQuery</a></li>
					<li class="nav__item"><a href="http://compass-style.org/reference/compass/">Compass</a></li>
					<li class="nav__item"><a href="http://sass-lang.com/documentation/file.SASS_REFERENCE.html">Sass</a></li>
				</ul>
			</li>
			<li class="nav__list-wrap">
				<h2 class="nav__header">帮助链接</h2>
				<ul>
					<li class="nav__item"><a href="http://www.staticfile.org/" data-shortcut="k">开发CDN(k)</a></li>
					<li class="nav__item"><a href="http://regexr.com/"  data-shortcut="r">正则在线工具(r)</a></li>
					<li class="nav__item"><a href="http://jsonlint.com/"  data-shortcut="l">jsonlint(l)</a></li>
					<li class="nav__item"><a href="https://htmlpreview.github.io/">GitHub HTML预览</a></li>
				</ul>
			</li>
		</ul>


		<p class="tip">
			Tip: 支持用快捷键来打开链接。默认是文字的第一个字母，或者括号里的值
		</p>
	</div>
	<script src="../asset/vendor/jquery-2.1.3.min.js"></script>
	<script>
	$(document).ready(function () {
		var avaliableShortcut = '1234567890abcdefghijklmnopqrstuvwxyz'.split('');
		var shortcuts = {};
		$('.nav__item>a').each(function(){
			var $link = $(this);
			var key = $link.data('shortcut');
			if(!key){
				key = $link.text().substr(0,1);// 用
			}
			key = key.toLocaleLowerCase();
			removeFromArray(avaliableShortcut, key);
			if(!shortcuts[key]){
				shortcuts[key] = $link.attr('href');

			}else{
				console.error('repeat short cut %s', key);

			}
		});

		console.log('可用的快捷键 %s', avaliableShortcut.join());

		$(document).keyup(function(evt){
			var key = String.fromCharCode(evt.which).toLocaleLowerCase();
			if(shortcuts[key]){
				window.open(shortcuts[key], '_blank');
			}
		});

		function removeFromArray(arr, value){
			var removeIndex = false;
			arr.forEach(function(each, index){
				if(each === value){
					removeIndex = index;
				}
			});
			if(removeIndex !== false){
				arr.splice(removeIndex, 1);
			}
		}
	});
	</script>
</body>
</html>